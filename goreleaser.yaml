project_name: edge-installer

builds:
  - id: installer
    main: ./cmd/installer
    binary: installer
    goos: [linux, darwin, windows]
    goarch: [amd64, arm64]
    ldflags: ["-s -w"]
    env: [CGO_ENABLED=0]

  - id: era
    main: ./cmd/era
    binary: era
    goos: [linux, darwin, windows]
    goarch: [amd64, arm64]
    ldflags: ["-s -w"]
    env: [CGO_ENABLED=0]

  - id: lo
    main: ./cmd/lo
    binary: lo
    goos: [linux, darwin, windows]
    goarch: [amd64, arm64]
    ldflags: ["-s -w"]
    env: [CGO_ENABLED=0]

  - id: co
    main: ./cmd/co
    binary: co
    goos: [linux, darwin, windows]
    goarch: [amd64, arm64]
    ldflags: ["-s -w"]
    env: [CGO_ENABLED=0]

  - id: edgectl
    main: ./cmd/edgectl
    binary: edgectl
    goos: [linux, darwin, windows]
    goarch: [amd64, arm64]
    ldflags: ["-s -w"]
    env: [CGO_ENABLED=0]

# Produce raw binaries (not tar.gz or zip)
archives:
  - id: binaries
    builds: [installer, era, lo, co, edgectl]
    format: binary
    wrap_in_directory: false
    name_template: "{{ .Binary }}-{{ .Os }}-{{ .Arch }}"
    files:
      - LICENSE

checksum:
  name_template: "checksums.txt"

release:
  draft: false
  prerelease: false

changelog:
  use: github
