project_name: edge-orchestration

builds:
  - id: installer
    main: ./cmd/installer
    binary: installer
    goos: [linux, darwin, windows]
    goarch: [amd64, arm64]
    env: [CGO_ENABLED=0]
    ldflags: ["-s -w"]

  - id: era
    main: ./cmd/era
    binary: era
    goos: [linux, darwin, windows]
    goarch: [amd64, arm64]
    env: [CGO_ENABLED=0]
    ldflags: ["-s -w"]

  - id: lo
    main: ./cmd/lo
    binary: lo
    goos: [linux, darwin, windows]
    goarch: [amd64, arm64]
    env: [CGO_ENABLED=0]
    ldflags: ["-s -w"]

  - id: co
    main: ./cmd/co
    binary: co
    goos: [linux, darwin, windows]
    goarch: [amd64, arm64]
    env: [CGO_ENABLED=0]
    ldflags: ["-s -w"]

  - id: edgectl
    main: ./cmd/edgectl
    binary: edgectl
    goos: [linux, darwin, windows]
    goarch: [amd64, arm64]
    env: [CGO_ENABLED=0]
    ldflags: ["-s -w"]

archives:
  - id: default
    builds:
      - installer
      - era
      - lo
      - co
      - edgectl
    name_template: "{{ .Binary }}-{{ .Os }}-{{ .Arch }}"
    wrap_in_directory: false
    files:
      - LICENSE
    format_overrides:
      - goos: windows
        format: zip

checksum:
  name_template: checksums.txt

release:
  draft: false
  prerelease: false

changelog:
  use: github
